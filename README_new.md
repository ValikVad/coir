# Инструкция по настройке и запуску бенчмарка

## Установка Poetry

Poetry — это инструмент для управления зависимостями и виртуальными окружениями в Python. Если вы еще не установили Poetry, выполните следующие шаги:

### На Windows

1. Откройте PowerShell и выполните команду:
   ```powershell
   (Invoke-WebRequest -Uri https://install.python-poetry.org -UseBasicParsing).Content | python -
   ```

2. Добавьте Poetry в PATH, как указано в инструкции после установки.

### На macOS и Linux

1. Откройте терминал и выполните команду:
   ```bash
   curl -sSL https://install.python-poetry.org | python3 -
   ```

2. Добавьте Poetry в PATH, как указано в инструкции после установки.

## Создание виртуального окружения с использованием Poetry

1. Перейдите в директорию проекта:
   ```bash
   cd path/to/your/project
   ```

2. Инициализируйте новое виртуальное окружение с Poetry:
   ```bash
   poetry init --no-interaction --name="benchmark" --dependency="pandas" --dependency="scikit-learn"
   ```

3. Установите зависимости:
   ```bash
   poetry install
   ```

## Создание файла конфигурации `config.ini`

Для работы бенчмарка необходимо создать файл `config.ini` с ключами и URL, где развернуты доступные модели. Пример содержимого файла:

```ini
[models]
model1_url = http://example.com/model1
model1_key = your_api_key_for_model1

model2_url = http://example.com/model2
model2_key = your_api_key_for_model2

model3_url = http://example.com/model3
model3_key = your_api_key_for_model3
```

Создайте файл `config.ini` в корневой директории проекта и добавьте туда необходимые ключи и URL.

## Описание `main.py`

Файл `main.py` содержит основную логику бенчмарка. Вот краткое описание его функционала:

1. **Загрузка данных**:
   - Функция `load_data` загружает данные из CSV файла.

2. **Предварительная обработка данных**:
   - Функция `preprocess_data` разделяет данные на признаки и целевую переменную, а затем на обучающую и тестовую выборки.
   - Выполняется стандартизация признаков с использованием `StandardScaler`.

3. **Обучение и оценка модели**:
   - Функция `evaluate_model` обучает модель и выводит метрики её производительности, такие как точность (`accuracy`) и отчет о классификации (`classification_report`).

4. **Основная функция**:
   - В `main` задаётся путь к датасету, загружаются и обрабатываются данные.
   - Создаётся список моделей для бенчмарка (например, логистическая регрессия, случайный лес, SVM).
   - Каждая модель обучается и оценивается с помощью функции `evaluate_model`.

## Запуск бенчмарка

1. Убедитесь, что вы находитесь в виртуальном окружении, созданном с помощью Poetry:
   ```bash
    poetry env use python3
    
    source $(poetry env info --path)/bin/activate

    poetry lock 

   ```

2. Запустите скрипт `main.py`:
   ```bash
   python main.py
   ```

Это запустит бенчмарк, который загрузит данные, проведёт предварительную обработку, обучит модели и выведет метрики их производительности.
